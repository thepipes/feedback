(function(){var c={cookieName:"socialcrmvisitorid",counter:0,getId:function(e){var d=this,f="socialCrmCallback"+this.counter;script=document.createElement("script");this.counter++;script.src=this._getScriptUrl(f);window[f]=function(g){d._handleCookie(e,g)};document.body.appendChild(script)},ready:function(d){d.call({},this)},setInput:function(f){if(this._getCookie()){var d=document.getElementsByTagName("input");for(var e=0;e<d.length;e++){if(d[e].name==f){d[e].value=this._getCookie()}}}},trackUser:function(){var d=new Object();var e=window.location.href;var f=(e.indexOf("?")!=-1)?e.slice(e.indexOf("?")+1).split("&"):null;if(f){for(var g=0;g<f.length;g++){var h=f[g].split("=");d[h[0]]=(h[1])?h[1]:true}}if(d[this.cookieName]){this._setCookie(d[this.cookieName])}},updateUrl:function(h,f){var e=h;if(h&&f&&h.substring&&f.substring){if(this._getCookie()){var d=(h.indexOf("?")!=-1)?h.slice(h.indexOf("?")+1).split("&"):null;var g=f+"="+this._getCookie();if(d&&h.indexOf("?")!=h.length-1){e=h+"&"+g}else{e=h.replace("?","")+"?"+g}}}else{e=""}},_getCookie:function(){var g=false;var e,d,h,f=document.cookie.split(";");for(e=0;e<f.length;e++){d=f[e].substr(0,f[e].indexOf("="));h=f[e].substr(f[e].indexOf("=")+1);d=d.replace(/^\s+|\s+$/g,"");if(d==this.cookieName){g=unescape(h)}}return g},_getHostname:function(){var e=document.getElementById("social-crm-jssdk");var d=document.createElement("a");d.href=e.src;return d.hostname},_getScriptUrl:function(e){var d="http://"+this._getHostname()+"/crm/contact.php?callback="+e;return d},_handleCookie:function(d,f){if(d.callback&&typeof d.callback=="function"){d.callback.call({},f)}if(d.formElementId){var e=document.getElementById(d.formElementId);if(e){e.value=f}}},_setCookie:function(i){var g=180;var e=new Date();e.setTime(e.getTime()+(g*24*60*60*1000));var h=window.location.href.split("/");var d="."+h[2];var f=escape(i)+((g==null)?"":"; domain="+d+"; expires="+e.toGMTString()+"; path=/");document.cookie=this.cookieName+"="+f}};var a=window.SocialCrmContact||null;window.SocialCrmContact=c;if(a!=null&&a._e){for(var b=0;b<a._e.length;b++){a._e[b].call({},c)}}}());